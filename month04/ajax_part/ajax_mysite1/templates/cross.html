<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>跨域测试</title>
</head>
<script src="/static/js/jquery-1.11.3.js"></script>
<body>
<button id="btn">跨域测试</button>
</body>
<script>
    // 1 预留函数
    function print(data) {
        console.log(data);
    }
    // 2 跨域提交的代码
    // // 一  js方式
    // $(function() {
    //     $('#btn').click(function() {
    //         var body = document.getElementsByTagName('body')[0];
    //         var script = document.createElement('script');
    //         script.type = 'text/javascript';
    //         script.src = 'http://localhost:8000/cross_server?callback=print';
    //         body.append(script);
    //     });
    // });
    // // 二  jsonp方式
    // $(function() {
    //     $.ajax({
    //         url: 'http://localhost:8000/cross_server_json',
    //         type: 'get',
    //         dataType: 'jsonp',
    //         jsonp: 'callback',
    //         jsonpCallback: 'print',
    //     });
    // });
    
    // 三  jsonp极简方式 无需预留函数
    $(function() {
        $.ajax({
            url: 'http://localhost:8000/cross_server_json',
            type: 'get',
            dataType: 'jsonp',
            success: function(data) {
                console.log('-jsonp super-');
                console.log(data);
            }
        })
    });
</script>
</html>